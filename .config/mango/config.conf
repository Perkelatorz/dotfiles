# -----------------------------------------------------
# MangoWC Configuration
# Ported from Hyprland setup
# -----------------------------------------------------

# --- Source Modules ---
source=~/.config/mango/monitors.conf
source=~/.config/mango/env.conf
source=~/.config/mango/binds.conf
source=~/.config/mango/autostart.conf

# =====================================================
# Effects
# =====================================================
blur=0
blur_layer=0
shadows=1
shadow_only_floating=1
shadows_size=8
shadows_blur=10
shadows_position_x=0
shadows_position_y=0
shadowscolor=0x000000ff

border_radius=2
no_radius_when_single=0
focused_opacity=1.0
unfocused_opacity=1.0

# =====================================================
# Animations
# =====================================================
animations=1
layer_animations=1
animation_type_open=zoom
animation_type_close=fade
layer_animation_type_open=fade
layer_animation_type_close=fade
animation_fade_in=1
animation_fade_out=1
tag_animation_direction=0
zoom_initial_ratio=0.85
zoom_end_ratio=0.95
fadein_begin_opacity=0.7
fadeout_begin_opacity=0.9
animation_duration_move=150
animation_duration_open=150
animation_duration_tag=120
animation_duration_close=120
animation_duration_focus=100
animation_curve_open=0.22,1.0,0.36,1
animation_curve_move=0.22,1.0,0.36,1
animation_curve_tag=0.16,1.0,0.3,1
animation_curve_close=0.22,1.0,0.36,1
animation_curve_focus=0.22,1.0,0.36,1

# =====================================================
# Appearance (Material Design 3 colors from matugen)
# =====================================================
# MangoWC colors use 0xRRGGBBAA format
borderpx=2
gappih=2
gappiv=2
gappoh=4
gappov=4

# Fallback colors (overridden by matugen-colors.conf when available)
rootcolor=0x1c1015ff
bordercolor=0x534248ff
focuscolor=0xffb0d0ff
urgentcolor=0xe53935ff
maximizescreencolor=0x8c0057ff
scratchpadcolor=0x653b43ff
globalcolor=0xf2b7c2ff
overlaycolor=0x291c21ff

# Matugen-generated colors (overrides above when file exists)
source=~/.config/mango/matugen-colors.conf

scratchpad_width_ratio=0.8
scratchpad_height_ratio=0.9

# =====================================================
# Cursor
# =====================================================
cursor_size=24
cursor_theme=Adwaita
cursor_hide_timeout=0

# =====================================================
# Input
# =====================================================
repeat_rate=40
repeat_delay=300
numlockon=1
xkb_rules_layout=us

# Mouse
mouse_natural_scrolling=0
accel_profile=2
accel_speed=0.0

# =====================================================
# Master-Stack Layout
# =====================================================
new_is_master=1
smartgaps=0
default_mfact=0.55
default_nmaster=1

# =====================================================
# Scroller Layout
# =====================================================
scroller_default_proportion=0.8
scroller_focus_center=0
scroller_prefer_center=1
scroller_default_proportion_single=1.0
scroller_proportion_preset=0.5,0.8,1.0

# =====================================================
# Overview
# =====================================================
hotarea_size=10
enable_hotarea=1
ov_tab_mode=0
overviewgappi=5
overviewgappo=30

# =====================================================
# Focus & Behavior
# =====================================================
sloppyfocus=1
warpcursor=1
focus_on_activate=1
focus_cross_monitor=1
exchange_cross_monitor=1
focus_cross_tag=0
drag_tile_to_tile=1
view_current_to_back=1
allow_tearing=0

# =====================================================
# Window Behavior
# =====================================================
enable_floating_snap=1
snap_distance=30
no_border_when_single=0

# --- Size hints: prevent specific apps from leaving gaps in tiled mode ---
windowrule=isnosizehint:1,appid:firefox
windowrule=isnosizehint:1,appid:spotify
windowrule=isnosizehint:1,appid:vesktop
windowrule=isnosizehint:1,appid:kitty
windowrule=isnosizehint:1,appid:cursor
windowrule=isnosizehint:1,appid:Cursor
windowrule=isnosizehint:1,appid:obsidian
windowrule=isnosizehint:1,appid:mpv

# --- Ignore maximize requests (let tiling handle it) ---
windowrule=ignore_maximize:1,appid:.*

# --- Float: system utilities ---
windowrule=isfloating:1,appid:pavucontrol
windowrule=isfloating:1,appid:blueman-manager
windowrule=isfloating:1,appid:nm-connection-editor
windowrule=isfloating:1,appid:wdisplays
windowrule=isfloating:1,appid:system-config-printer
windowrule=isfloating:1,appid:nwg-look
windowrule=isfloating:1,appid:qt5ct
windowrule=isfloating:1,appid:qt6ct
windowrule=isfloating:1,appid:kvantummanager
windowrule=isfloating:1,appid:xarchiver
windowrule=isfloating:1,appid:org.gnome.seahorse.Application
windowrule=isfloating:1,appid:bitwarden

# --- Float: common dialog titles ---
windowrule=isfloating:1,title:^Open File$
windowrule=isfloating:1,title:^Save As$
windowrule=isfloating:1,title:^File Upload$
windowrule=isfloating:1,title:^Authentication Required$

# --- Screenshot tools ---
windowrule=noblur:1,appid:slurp
windowrule=isnoanimation:1,appid:slurp

# --- Terminal swallowing (kitty launches GUI app â†’ replaces itself) ---
windowrule=isterm:1,appid:kitty
windowrule=noswallow:1,appid:firefox

# --- Layer rules ---
layerrule=noblur:1,layer_name:selection
layerrule=animation_type_open:zoom,layer_name:rofi

# =====================================================
# Multi-Monitor & Misc
# =====================================================
scratchpad_cross_monitor=0
single_scratchpad=1
xwayland_persistence=1
circle_layout=tile,vertical_tile,monocle,scroller
axis_bind_apply_timeout=100
